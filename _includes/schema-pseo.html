<!-- Enhanced Schema.org JSON-LD for PSEO Pages -->
<!-- Optimized for Google 2025 SEO Best Practices -->

{% assign template_id = page_data.metadata.draft_metadata.template_id | default: "universal" %}

{% if template_id == "troubleshooting" %}
  <!-- FAQPage Schema for Troubleshooting Pages -->
  <!-- Enhanced with problem-solution structure for rich snippets -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What causes {{ page_data.static_data.error_type | default: 'this issue' }} in Odoo {{ page_data.static_data.odoo_version | default: '' }}?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "{{ page_data.metadata.description }}"
        }
      },
      {
        "@type": "Question",
        "name": "How do I diagnose {{ page_data.static_data.problem_type | default: 'this error' }} in Odoo?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Start with error log analysis, verify system requirements, check database connections, and review recent configuration changes."
        }
      },
      {
        "@type": "Question",
        "name": "What is the fastest way to fix {{ page_data.static_data.problem_type | default: 'this issue' }}?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Follow the diagnostic flowchart provided in this guide to identify the root cause, then apply the specific fix for your scenario. Most issues resolve within 30 minutes."
        }
      }
    ],
    "about": {
      "@type": "SoftwareApplication",
      "name": "Odoo",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Linux"
    }
  }
  </script>

{% elsif template_id == "installation" or template_id == "container_deployment" or template_id == "migration" or template_id == "integration" or template_id == "configuration" or template_id == "development" %}
  <!-- HowTo Schema for Practitioner Guides -->
  <!-- Enhanced with step-by-step instructions and time estimates -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "HowTo",
    "name": "{{ page_data.metadata.title }}",
    "description": "{{ page_data.metadata.description }}",
    "image": "https://ariashaw.com/apple-touch-icon.png",
    {% if page_data.static_data.estimated_time %}
    "totalTime": "{{ page_data.static_data.estimated_time | replace: 'hours', 'H' | replace: 'hour', 'H' | replace: 'minutes', 'M' | replace: 'minute', 'M' | replace: '-', '' | prepend: 'PT' }}",
    {% endif %}
    "estimatedCost": {
      "@type": "MonetaryAmount",
      "currency": "USD",
      "value": "0"
    },
    "supply": [
      {% if template_id == "installation" or template_id == "container_deployment" %}
      {
        "@type": "HowToSupply",
        "name": "{{ page_data.static_data.os_name | default: 'Linux' }} {{ page_data.static_data.os_version | default: '' }} server"
      },
      {
        "@type": "HowToSupply",
        "name": "{{ page_data.static_data.recommended_cpu_cores | default: '2' }} CPU cores minimum"
      },
      {
        "@type": "HowToSupply",
        "name": "{{ page_data.static_data.recommended_ram_gb | default: '4' }}GB RAM minimum"
      }
      {% elsif template_id == "migration" %}
      {
        "@type": "HowToSupply",
        "name": "{{ page_data.static_data.source_system }} data export"
      },
      {
        "@type": "HowToSupply",
        "name": "{{ page_data.static_data.target_system }} instance"
      }
      {% elsif template_id == "integration" %}
      {
        "@type": "HowToSupply",
        "name": "{{ page_data.static_data.source_system }} API credentials"
      },
      {
        "@type": "HowToSupply",
        "name": "Odoo {{ page_data.static_data.odoo_version | default: '' }} with administrator access"
      }
      {% endif %}
    ],
    "tool": [
      {% if template_id == "installation" %}
      {
        "@type": "HowToTool",
        "name": "SSH access to server"
      },
      {
        "@type": "HowToTool",
        "name": "PostgreSQL {{ page_data.static_data.postgresql_version | default: '14+' }}"
      },
      {
        "@type": "HowToTool",
        "name": "Python {{ page_data.static_data.python_version | default: '3.10+' }}"
      }
      {% elsif template_id == "container_deployment" %}
      {
        "@type": "HowToTool",
        "name": "{{ page_data.static_data.orchestration_tool | default: 'Docker' }}"
      }
      {% elsif template_id == "development" %}
      {
        "@type": "HowToTool",
        "name": "{{ page_data.static_data.ide_name | default: 'VSCode' }}"
      },
      {
        "@type": "HowToTool",
        "name": "Git version control"
      }
      {% endif %}
    ],
    "step": [
      {
        "@type": "HowToStep",
        "name": "Prerequisites verification",
        "text": "Verify system requirements and prepare necessary credentials",
        "position": 1
      },
      {
        "@type": "HowToStep",
        "name": "{{ template_id | replace: '_', ' ' | capitalize }} execution",
        "text": "Follow the detailed step-by-step instructions in the main guide",
        "position": 2
      },
      {
        "@type": "HowToStep",
        "name": "Validation and testing",
        "text": "Verify successful completion and test functionality",
        "position": 3
      }
    ],
    "about": {
      "@type": "SoftwareApplication",
      "name": "Odoo {% if page_data.static_data.odoo_version %}{{ page_data.static_data.odoo_version }}{% endif %}",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "{% if page_data.static_data.os_name %}{{ page_data.static_data.os_name }}{% else %}Linux{% endif %}"
    },
    "author": {
      "@type": "Person",
      "name": "Aria Shaw",
      "url": "https://ariashaw.com",
      "jobTitle": "Technical Writer & Systems Architect",
      "knowsAbout": ["Odoo ERP", "System Administration", "Technical Documentation"]
    },
    "publisher": {
      "@type": "Organization",
      "name": "AriaShaw",
      "url": "https://ariashaw.com"
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ page.url | absolute_url }}"
    },
    "url": "{{ page.url | absolute_url }}"
  }
  </script>

{% elsif template_id == "comparison" %}
  <!-- Article Schema with Product Comparison for Researcher Pages -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "{{ page_data.metadata.title }}",
    "description": "{{ page_data.metadata.description }}",
    "image": "https://ariashaw.com/apple-touch-icon.png",
    "datePublished": "{{ site.time | date_to_xmlschema }}",
    "dateModified": "{{ site.time | date_to_xmlschema }}",
    "author": {
      "@type": "Person",
      "name": "Aria Shaw",
      "url": "https://ariashaw.com",
      "jobTitle": "Technical Writer & Systems Architect"
    },
    "publisher": {
      "@type": "Organization",
      "name": "AriaShaw",
      "url": "https://ariashaw.com"
    },
    "about": [
      {
        "@type": "SoftwareApplication",
        "name": "{{ page_data.static_data.item_a | default: page_data.static_data.product_a }}",
        "applicationCategory": "BusinessApplication"
      },
      {
        "@type": "SoftwareApplication",
        "name": "{{ page_data.static_data.item_b | default: page_data.static_data.product_b }}",
        "applicationCategory": "BusinessApplication"
      }
    ],
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ page.url | absolute_url }}"
    },
    "url": "{{ page.url | absolute_url }}"
  }
  </script>

{% elsif template_id == "security" or template_id == "performance" %}
  <!-- TechArticle Schema for Technical Optimization Guides -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "TechArticle",
    "headline": "{{ page_data.metadata.title }}",
    "description": "{{ page_data.metadata.description }}",
    "image": "https://ariashaw.com/apple-touch-icon.png",
    "datePublished": "{{ site.time | date_to_xmlschema }}",
    "dateModified": "{{ site.time | date_to_xmlschema }}",
    {% if template_id == "security" %}
    "dependencies": "PostgreSQL, NGINX, SSL Certificate, Firewall",
    "proficiencyLevel": "Advanced",
    {% elsif template_id == "performance" %}
    "dependencies": "PostgreSQL, PgBouncer, Redis, NGINX",
    "proficiencyLevel": "Intermediate to Advanced",
    {% endif %}
    "author": {
      "@type": "Person",
      "name": "Aria Shaw",
      "url": "https://ariashaw.com",
      "jobTitle": "Technical Writer & Systems Architect",
      "knowsAbout": ["Odoo Security", "Performance Optimization", "System Architecture"]
    },
    "publisher": {
      "@type": "Organization",
      "name": "AriaShaw",
      "url": "https://ariashaw.com"
    },
    "about": {
      "@type": "SoftwareApplication",
      "name": "Odoo {% if page_data.static_data.odoo_version %}{{ page_data.static_data.odoo_version }}{% endif %}",
      "applicationCategory": "BusinessApplication"
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ page.url | absolute_url }}"
    },
    "url": "{{ page.url | absolute_url }}"
  }
  </script>

{% else %}
  <!-- Default Article Schema for Universal/Other Templates -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "{{ page_data.metadata.title }}",
    "description": "{{ page_data.metadata.description }}",
    "image": "https://ariashaw.com/apple-touch-icon.png",
    "datePublished": "{{ site.time | date_to_xmlschema }}",
    "dateModified": "{{ site.time | date_to_xmlschema }}",
    "author": {
      "@type": "Person",
      "name": "Aria Shaw",
      "url": "https://ariashaw.com",
      "jobTitle": "Technical Writer & Systems Architect"
    },
    "publisher": {
      "@type": "Organization",
      "name": "AriaShaw",
      "url": "https://ariashaw.com"
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ page.url | absolute_url }}"
    },
    "url": "{{ page.url | absolute_url }}"
  }
  </script>
{% endif %}

<!-- BreadcrumbList Schema for Navigation -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://ariashaw.com"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "{{ page.collection | replace: '_', '' | capitalize }} Guides",
      "item": "https://ariashaw.com/{{ page.collection | replace: '_', '' }}/"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "{{ page_data.metadata.title }}",
      "item": "{{ page.url | absolute_url }}"
    }
  ]
}
</script>
