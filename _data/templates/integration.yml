# Template: Integration Guide
# Template ID: integration
# Intent Type: practitioner
# Variables Required: {{source_system}}, {{target_system}}, {{integration_type}}

metadata:
  title: "{{source_system}} to {{target_system}} Integration: Complete 2025 Guide"
  description: "Connect {{source_system}} to {{target_system}} in 2-4 hours. Automate data sync, eliminate manual entry, achieve 99.9% accuracy with production-tested {{integration_type}} integration."
  intent_type: "practitioner"
  page_slug: "integrate-{{source_slug}}-with-{{target_slug}}"
  draft_metadata:
    created_by: "pseo-bulk-generator"
    template_id: "integration"
    generation_mode: "template"
    confidence_level: "high"

static_data:
  # New naming convention (used by main_content_templates)
  service_name: "{{service_name}}"
  integration_method: "{{integration_method}}"
  odoo_version: "{{odoo_version}}"
  integration_specific_setup: "{{integration_specific_setup}}"
  method_specific_details: "{{method_specific_details}}"
  credential_generation_steps: "{{credential_generation_steps}}"
  field_mapping_specifics: "{{field_mapping_specifics}}"
  specific_mapping_challenges: "{{specific_mapping_challenges}}"
  security_specific_warnings: "{{security_specific_warnings}}"

  # Legacy naming (for backward compatibility)
  source_system: "{{source_system}}"
  target_system: "{{target_system}}"
  integration_type: "{{integration_type}}"

  prerequisites:
    - "Admin access to both {{source_system}} and {{target_system}}"
    - "API credentials or connection details"
    - "Understanding of data structures in both systems"
    - "Test environment for initial setup"

  integration_steps:
    - step: 1
      title: "Prepare {{source_system}} for Integration"
      tasks:
        - "Enable API access in {{source_system}}"
        - "Generate API keys or OAuth credentials"
        - "Document available endpoints and data formats"

    - step: 2
      title: "Configure {{target_system}} Connection"
      tasks:
        - "Install necessary connectors or modules"
        - "Configure authentication settings"
        - "Set up webhook endpoints if required"

    - step: 3
      title: "Map Data Fields"
      mapping_example: |
        # Example field mapping
        {{source_system}}.customer_id -> {{target_system}}.partner_id
        {{source_system}}.order_date -> {{target_system}}.date_order
        {{source_system}}.total_amount -> {{target_system}}.amount_total

    - step: 4
      title: "Configure Synchronization Rules"
      sync_options:
        - "Real-time sync via webhooks"
        - "Scheduled batch sync (hourly/daily)"
        - "Manual sync on demand"
        - "Incremental sync based on timestamps"

    - step: 5
      title: "Test Integration"
      test_procedures:
        - "Create test record in {{source_system}}"
        - "Verify record appears in {{target_system}}"
        - "Update record and confirm sync"
        - "Test error handling with invalid data"

  data_transformation_rules:
    - rule: "Date format conversion"
      source_format: "{{source_date_format}}"
      target_format: "{{target_date_format}}"

    - rule: "Currency conversion"
      handling: "Use exchange rate API or fixed conversion"

  error_handling:
    - scenario: "Connection timeout"
      solution: "Implement retry logic with exponential backoff"

    - scenario: "Data validation failure"
      solution: "Log errors, send notification, queue for manual review"

  performance_optimization:
    - "Use batch processing for large data sets"
    - "Implement caching for frequently accessed data"
    - "Set up connection pooling"
    - "Monitor API rate limits"

  estimated_setup_time: "2-4 hours"
  complexity_level: "Intermediate"

# AI-generated content sections (standardized 4-field structure)
ai_generated_content:
  introduction: ""      # Opening paragraph (from component library)
  main_content: ""      # Main integration guide (from content_templates.py)
  conclusion: ""        # Closing paragraph (from component library)
  extended_content: ""  # Optional: FAQ, troubleshooting, etc.

# Conversion assets
conversion_assets:
  - component_type: "benefit-list"
    placement_hint: "mid_guide"
    generated_copy: {}

  - component_type: "callout-box"
    placement_hint: "before_steps"
    generated_copy: {}

  - component_type: "inline-simple"
    placement_hint: "after_conclusion"
    generated_copy: {}

# Strategic internal links
intelligent_links:
  - link_type: "related_integration"
    context: "Other {{source_system}} integrations"
    generated_link: {}

  - link_type: "advanced_features"
    context: "Advanced {{integration_type}} configurations"
    generated_link: {}

# Visualizations
visualizations:
  - chart_type: "mermaid"
    placement_hint: "after_architecture"
    data_context: "data_flow_diagram"
    mermaid_chart_syntax: ""
