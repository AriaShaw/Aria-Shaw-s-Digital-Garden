# Template: Development Guide
# Template ID: development
# Intent Type: practitioner
# Variables Required: {{development_type}}, {{framework}}, {{language}}

metadata:
  title: "{{development_type}} Development in {{framework}}: Complete 2025 Guide"
  description: "Build production-ready {{development_type}} with {{framework}} and {{language}}. Complete with testing framework, deployment automation, and code examples. Reduce development time by 50%."
  intent_type: "practitioner"
  page_slug: "{{development_type_slug}}-development-{{framework_slug}}"
  draft_metadata:
    created_by: "pseo-bulk-generator"
    template_id: "development"
    generation_mode: "template"
    confidence_level: "high"

static_data:
  # New naming convention (used by main_content_templates)
  development_subject: "{{development_subject}}"
  module_name: "{{module_name}}"
  module_category: "{{module_category}}"
  module_version: "{{module_version}}"
  odoo_version: "{{odoo_version}}"
  python_version: "{{python_version}}"
  postgresql_version: "{{postgresql_version}}"

  # Content section variables
  development_environment_setup: "{{development_environment_setup}}"
  model_development_details: "{{model_development_details}}"
  view_development_details: "{{view_development_details}}"
  business_logic_implementation: "{{business_logic_implementation}}"
  security_implementation: "{{security_implementation}}"
  testing_guidelines: "{{testing_guidelines}}"
  deployment_best_practices: "{{deployment_best_practices}}"
  module_structure_explanation: "{{module_structure_explanation}}"

  # Legacy naming (for backward compatibility)
  development_type: "{{development_type}}"
  framework: "{{framework}}"
  language: "{{language}}"

  development_environment:
    required_tools:
      - tool: "{{ide_name}}"
        version: "{{ide_version}}"
        purpose: "Code editing and debugging"

      - tool: "{{language}} {{language_version}}"
        version: "{{language_version}}"
        purpose: "Programming language runtime"

      - tool: "Git"
        version: "2.40+"
        purpose: "Version control"

    setup_commands:
      - "# Install development dependencies"
      - "pip install -r requirements-dev.txt"
      - "npm install --save-dev {{dev_packages}}"
      - "# Configure IDE"
      - "code --install-extension {{extension_id}}"

  project_structure:
    root_directory: "{{project_name}}/"
    structure: |
      {{project_name}}/
      ├── {{module_name}}/
      │   ├── __init__.py
      │   ├── models/
      │   │   ├── __init__.py
      │   │   └── {{model_file}}.py
      │   ├── views/
      │   │   └── {{view_file}}.xml
      │   ├── controllers/
      │   │   └── main.py
      │   └── static/
      │       ├── src/
      │       │   ├── js/
      │       │   └── scss/
      │       └── description/
      ├── tests/
      │   └── test_{{module}}.py
      ├── __manifest__.py
      └── README.md

  development_workflow:
    - step: 1
      title: "Create Module Structure"
      commands:
        - "mkdir -p {{module_name}}/{models,views,controllers,static}"
        - "touch {{module_name}}/__init__.py"
        - "touch {{module_name}}/__manifest__.py"

    - step: 2
      title: "Define Data Models"
      code_example: |
        from odoo import models, fields, api

        class {{ModelName}}(models.Model):
            _name = '{{module}}.{{model}}'
            _description = '{{model_description}}'

            name = fields.Char(string='Name', required=True)
            {{field_name}} = fields.{{field_type}}(string='{{field_label}}')

            @api.depends('{{dependency_field}}')
            def _compute_{{computed_field}}(self):
                for record in self:
                    record.{{computed_field}} = {{computation_logic}}

    - step: 3
      title: "Create Views"
      xml_example: |
        <odoo>
          <data>
            <record id="view_{{model}}_form" model="ir.ui.view">
              <field name="name">{{module}}.{{model}}.form</field>
              <field name="model">{{module}}.{{model}}</field>
              <field name="arch" type="xml">
                <form string="{{form_title}}">
                  <sheet>
                    <group>
                      <field name="name"/>
                      <field name="{{field_name}}"/>
                    </group>
                  </sheet>
                </form>
              </field>
            </record>
          </data>
        </odoo>

    - step: 4
      title: "Implement Business Logic"
      business_logic: |
        @api.model
        def create(self, vals):
            # Custom creation logic
            if '{{validation_field}}' in vals:
                self._validate_{{field}}(vals['{{validation_field}}'])
            return super().create(vals)

    - step: 5
      title: "Write Tests"
      test_example: |
        from odoo.tests import TransactionCase

        class Test{{ModuleName}}(TransactionCase):
            def setUp(self):
                super().setUp()
                self.{{model}} = self.env['{{module}}.{{model}}']

            def test_{{feature}}(self):
                # Test {{feature}} functionality
                record = self.{{model}}.create({
                    'name': 'Test Record',
                    '{{field}}': {{test_value}}
                })
                self.assertEqual(record.{{computed_field}}, {{expected_value}})

  best_practices:
    - practice: "Follow PEP 8 style guide"
      implementation: "Use flake8 or black for code formatting"

    - practice: "Write comprehensive tests"
      coverage_target: "80% minimum code coverage"

    - practice: "Use meaningful variable names"
      example: "customer_invoice instead of ci"

    - practice: "Document your code"
      tools: "Sphinx for API documentation"

  debugging_techniques:
    - technique: "Odoo Shell"
      command: "python odoo-bin shell -d {{database}}"
      use_case: "Interactive debugging and data inspection"

    - technique: "Debug Mode"
      activation: "Add ?debug=1 to URL or use debug menu"
      use_case: "Frontend debugging and field inspection"

    - technique: "Logging"
      code: "_logger.info('Debug message: %s', variable)"
      use_case: "Track execution flow and variable values"

  deployment_checklist:
    - "Run all tests: python -m pytest tests/"
    - "Check code quality: flake8 {{module_name}}"
    - "Update version in __manifest__.py"
    - "Generate migration scripts if needed"
    - "Update documentation"
    - "Create git tag for release"

  estimated_time: "1-2 weeks for basic module"
  complexity_level: "Intermediate to Advanced"

# AI-generated content sections (standardized 4-field structure)
ai_generated_content:
  introduction: ""      # Opening paragraph (from component library)
  main_content: ""      # Main development guide (from content_templates.py)
  conclusion: ""        # Closing paragraph (from component library)
  extended_content: ""  # Optional: FAQ, code examples, etc.

# Conversion assets
conversion_assets:
  - component_type: "callout-box"
    placement_hint: "mid_guide"
    generated_copy: {}

  - component_type: "benefit-list"
    placement_hint: "post_technical"
    generated_copy: {}

  - component_type: "inline-simple"
    placement_hint: "after_conclusion"
    generated_copy: {}

# Strategic internal links
intelligent_links:
  - link_type: "api_reference"
    context: "{{framework}} API documentation"
    generated_link: {}

  - link_type: "advanced_patterns"
    context: "Advanced {{development_type}} patterns"
    generated_link: {}

# Visualizations
visualizations:
  - chart_type: "mermaid"
    placement_hint: "after_architecture"
    data_context: "module_architecture"
    mermaid_chart_syntax: ""
