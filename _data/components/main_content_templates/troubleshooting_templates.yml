template_info:
  template_id: troubleshooting
  description: Troubleshooting guide main content
  version: '1.0'
  variables_required:
  - issue_type
  - symptom_description
template: 'Troubleshooting {issue_type} requires systematic diagnosis moving from symptoms to root causes—random configuration
  changes hoping to stumble onto solutions waste hours and potentially worsen problems. {symptom_description}


  The temptation during production outages is making multiple changes simultaneously hoping one fixes the issue. This approach
  creates two problems: you cannot determine which change actually fixed the problem (making it impossible to document solution),
  and you may introduce new issues through unrelated modifications. Make one change, test, observe results, then proceed based
  on evidence.


  ## Diagnostic Methodology


  {diagnostic_approach}


  Effective troubleshooting follows structured methodology: gather information, form hypothesis, test hypothesis, implement
  solution, verify resolution. Skipping steps leads to misdiagnosis—treating symptoms rather than underlying causes results
  in recurring problems.


  **Information Gathering**: Document exact symptoms including error messages (complete text, not paraphrases), steps to reproduce,
  affected users (everyone or specific accounts), timing (started when, occurs always or intermittently), and recent changes
  (system updates, configuration modifications, new module installations).


  **Log Analysis**: Examine Odoo server logs (/var/log/odoo/odoo-server.log), NGINX/Apache access and error logs (/var/log/nginx/),
  PostgreSQL logs (/var/log/postgresql/), and system logs (/var/log/syslog or journalctl). Search for error messages occurring
  at symptom onset time. Most problems leave log traces indicating root cause.


  **Hypothesis Formation**: Based on gathered information, form testable hypotheses explaining observed symptoms. Good hypotheses
  specify cause-and-effect relationships allowing verification through specific tests. Example: "Database connection timeout
  errors occur because PostgreSQL max_connections limit (100) is exhausted during peak usage."


  **Hypothesis Testing**: Design tests conclusively proving or disproving each hypothesis. Continue testing until identifying
  root cause—stopping at first correlation risks treating symptoms instead of causes.


  ## Common Problem Patterns


  {common_issues}


  **Server Won''t Start**: Check port conflicts (another process using 8069), permission issues (odoo user cannot access required
  files), configuration syntax errors (odoo.conf malformed), missing Python dependencies, or PostgreSQL connectivity problems.
  Run `odoo-bin -c /etc/odoo/odoo.conf` manually observing startup messages revealing specific failures.


  **Slow Performance**: Profile database queries identifying slow queries consuming excessive time. Check worker configuration—single-worker
  mode serializes requests causing queuing delays. Monitor system resources—CPU, RAM, disk I/O exhaustion slows all operations.
  Review PostgreSQL statistics identifying missing indexes or table bloat requiring VACUUM.


  **Module Installation Failures**: Verify module dependencies—missing prerequisite modules prevent installation. Check Python
  dependencies—modules requiring external libraries fail without proper pip packages. Review module code compatibility—modules
  written for older Odoo versions may not work in newer releases due to API changes.


  **Access Permission Errors**: Review security groups and access rights—users lacking required permissions see "Access Denied"
  errors. Check record rules—domain filters may hide records from certain users. Verify user group membership—users must belong
  to appropriate groups inheriting necessary permissions.


  **Integration Failures**: Test API connectivity—network firewalls may block outbound connections. Verify credentials—expired
  API keys or changed passwords break integrations. Check rate limits—exceeding API quotas triggers throttling. Review webhook
  endpoints—incorrect URLs or SSL certificate issues prevent callback delivery.


  ## Step-by-Step Troubleshooting Procedures


  {troubleshooting_procedures}


  ### Database Connection Issues


  1. Verify PostgreSQL service runs: `systemctl status postgresql`

  2. Test direct database connection: `psql -h localhost -U odoo -d production_db`

  3. Check connection limits: `SELECT max_connections FROM pg_settings;`

  4. Monitor active connections: `SELECT count(*) FROM pg_stat_activity;`

  5. Review odoo.conf database parameters: host, port, username, password

  6. Check PostgreSQL authentication (pg_hba.conf) allows odoo user access


  ### SSL/HTTPS Problems


  1. Verify certificate validity: `openssl x509 -in /etc/ssl/certs/odoo.crt -noout -dates`

  2. Test SSL configuration: `curl -vI https://yourdomain.com`

  3. Check NGINX configuration syntax: `nginx -t`

  4. Review NGINX error logs: `tail -f /var/log/nginx/error.log`

  5. Verify proxy_mode enabled in odoo.conf: `proxy_mode = True`

  6. Confirm web.base.url set to HTTPS: Settings → Technical → System Parameters


  ### Email Delivery Failures


  1. Test SMTP connectivity: `telnet smtp.gmail.com 587`

  2. Verify SMTP credentials in Settings → Technical → Outgoing Mail Servers

  3. Check email queue: Settings → Technical → Emails

  4. Review server logs for SMTP errors: `grep -i smtp /var/log/odoo/odoo-server.log`

  5. Verify SPF and DKIM records: Use MXToolbox or similar services

  6. Test email sending: Use Technical menu Send Email feature


  ### Worker Process Crashes


  1. Review memory usage: `ps aux | grep odoo`

  2. Check worker memory limits: `limit_memory_hard` and `limit_memory_soft` in odoo.conf

  3. Examine crash dumps if core dumps enabled

  4. Monitor system memory: `free -h` and `vmstat 1`

  5. Review OOM killer logs: `dmesg | grep -i "killed process"`

  6. Adjust worker configuration: Reduce worker count or increase memory limits


  ## Debugging Tools and Techniques


  {debugging_tools}


  **Odoo Shell**: Access Python REPL with Odoo environment loaded enabling direct ORM queries and model inspection. Start
  with `odoo-bin shell -c /etc/odoo/odoo.conf -d your_database`. Test data queries, inspect record values, and execute methods
  interactively.


  **Database Query Profiling**: Enable PostgreSQL query logging by setting `log_min_duration_statement = 1000` in postgresql.conf
  logging queries exceeding 1 second. Review pg_stat_statements extension for query performance statistics. Use EXPLAIN ANALYZE
  understanding query execution plans.


  **Python Profilers**: Use cProfile profiling Python code identifying performance bottlenecks. Add `--dev=all` flag enabling
  developer mode with enhanced error reporting and JavaScript debugging. Implement logging statements in custom modules capturing
  execution flow.


  **Browser Developer Tools**: Examine network requests identifying failed AJAX calls, slow asset loading, or CORS issues.
  Review console for JavaScript errors preventing client-side functionality. Monitor memory usage detecting client-side memory
  leaks in long-running sessions.


  **System Monitoring**: Deploy monitoring tools (Prometheus, Grafana, Datadog) tracking system metrics over time. Historical
  data reveals patterns—memory leaks gradually consume RAM, disk space exhausts predictably, CPU usage correlates with specific
  operations.


  ## Error Message Interpretation


  {error_message_guide}


  Error messages contain diagnostic information but require interpretation—messages indicate symptoms, not necessarily root
  causes.


  **"Database connection failed"**: PostgreSQL service stopped, incorrect credentials, network connectivity issues, firewall
  blocking port 5432, or connection limit exhausted.


  **"Access Denied"**: User lacks required permissions, record rules filtering records, session expired requiring re-authentication,
  or API key invalid/revoked.


  **"Module not found"**: Missing module installation, incorrect addons path configuration, module naming mismatch, or Python
  dependencies missing.


  **"Memory Limit Exceeded"**: Worker processing request consuming excessive memory, memory limits set too low for workload,
  memory leak in custom code, or database query returning millions of records.


  **"502 Bad Gateway"**: Odoo service not running, worker processes crashed, NGINX cannot connect to Odoo backend, or firewall
  blocking internal communication.


  ## Escalation Procedures


  {escalation_guidelines}


  When troubleshooting exhausts available expertise, escalate to specialized support rather than continuing trial-and-error
  approaches.


  **Community Resources**: Odoo community forums, Stack Overflow, and GitHub issues provide free support from experienced
  practitioners. Search existing discussions—your problem likely occurred previously with documented solutions. When posting
  questions, include Odoo version, complete error messages, relevant configuration, and steps already attempted.


  **Odoo Enterprise Support**: Enterprise license subscribers access official Odoo support through help desk tickets. Support
  response time varies by plan—Critical (1 hour), High (4 hours), Normal (24 hours). Provide comprehensive problem description,
  logs, and database backup accelerating diagnosis.


  **Professional Consultants**: Engage Odoo partners for complex issues requiring specialized expertise. Partners provide
  remote support or on-site assistance depending on problem severity. Typical hourly rates range $100-200/hour with faster
  problem resolution than self-troubleshooting for intricate issues.


  ## Prevention Through Monitoring


  {preventive_monitoring}


  Proactive monitoring detects problems before user impact allowing scheduled maintenance rather than emergency responses.


  Configure health check endpoints verifying critical functionality—database connectivity, file storage accessibility, external
  API reachability. External monitoring services (UptimeRobot, Pingdom) query health checks every 5 minutes alerting when
  failures occur.


  Set up log aggregation forwarding Odoo, NGINX, PostgreSQL, and system logs to centralized logging service (ELK stack, Splunk,
  Datadog). Configure alerting rules identifying error patterns—sudden increase in error rate, repeated failed authentication
  attempts, unusual traffic patterns.


  Track performance metrics establishing baselines for normal operations—average response time, 95th percentile latency, active
  database connections, memory usage, disk space consumption. Alert when metrics exceed baseline thresholds indicating degrading
  performance before complete failures.


  {troubleshooting_conclusion}


  Systematic troubleshooting reduces mean time to resolution from hours to minutes. Document solutions in internal knowledge
  base—next time the issue occurs, resolution follows documented procedures rather than rediscovering solutions. Invest time
  in preventive monitoring and documentation—effort multiplies returns across future incidents.'
