# Integration Chart Variants
# Semantic matching for integration workflow visualizations
# 5 variants covering different integration scenarios

variants:
  - id: integration_chart_001
    semantic_tags:
      - integration
      - api_integration
      - rest_api
      - external_system
    context_requirements:
      must_have: ["integration_type"]
      optional: ["api_endpoint"]
    chart_complexity: medium
    integration_type: api
    chart_template: |
      flowchart LR
          Start([External System]) --> Auth[Setup API Authentication]
          Auth --> Endpoint[Configure API Endpoints]
          Endpoint --> Mapping[Data Field Mapping]
          Mapping --> Sync[Configure Sync Schedule]
          Sync --> Error[Error Handling Setup]
          Error --> Test[Integration Testing]
          Test --> End([API Integrated])

          classDef api fill:#2196f3,stroke:#1976d2,stroke-width:2px,color:#fff
          classDef config fill:#ff9800,stroke:#f57c00,stroke-width:2px,color:#fff
          classDef success fill:#d4edda,stroke:#28a745,stroke-width:2px

          class Auth,Endpoint,Mapping api
          class Sync,Error,Test config
          class Start,End success
    supplementary_charts:
      - id: integration_chart_001_auth
        title: "Phase 1: API Authentication Setup"
        placement_hint: "after_prerequisites"
        chart_template: |
          flowchart TB
              Start([Auth Requirements]) --> Choose{Auth Method}
              Choose -->|OAuth2| OAuth[Configure OAuth2 Flow]
              Choose -->|API Key| APIKey[Generate API Keys]
              Choose -->|JWT| JWT[Setup JWT Tokens]
              OAuth --> Test[Test Authentication]
              APIKey --> Test
              JWT --> Test
              Test --> Secure[Secure Credential Storage]
              Secure --> End([Auth Configured])

              classDef decision fill:#fff3cd,stroke:#ffc107,stroke-width:2px
              classDef auth fill:#2196f3,stroke:#1976d2,stroke-width:2px,color:#fff
              classDef success fill:#d4edda,stroke:#28a745,stroke-width:2px

              class Choose decision
              class OAuth,APIKey,JWT,Test,Secure auth
              class Start,End success

      - id: integration_chart_001_error
        title: "Phase 3: Error Handling & Retry Logic"
        placement_hint: "after_steps"
        chart_template: |
          flowchart LR
              Start([Integration Errors]) --> Detect[Error Detection]
              Detect --> Log[Comprehensive Logging]
              Log --> Retry[Exponential Backoff Retry]
              Retry --> Queue[Dead Letter Queue]
              Queue --> Alert[Alert Configuration]
              Alert --> Monitor[Monitor Integration Health]
              Monitor --> End([Error Handling Active])

              classDef error fill:#f44336,stroke:#d32f2f,stroke-width:2px,color:#fff
              classDef monitoring fill:#ff9800,stroke:#f57c00,stroke-width:2px,color:#fff
              classDef success fill:#d4edda,stroke:#28a745,stroke-width:2px

              class Detect,Log,Retry error
              class Queue,Alert,Monitor monitoring
              class Start,End success

  - id: integration_chart_002
    semantic_tags:
      - integration
      - third_party
      - marketplace
      - app_integration
    context_requirements:
      must_have: ["app_name"]
      optional: ["connector_type"]
    chart_complexity: simple
    integration_type: third_party
    chart_template: |
      flowchart LR
          Start([Third-Party App]) --> Install[Install Connector Module]
          Install --> Config[Configure Connection]
          Config --> OAuth[Authorize Access]
          OAuth --> Map[Field Mapping]
          Map --> Sync[Initial Data Sync]
          Sync --> Test[Test Integration]
          Test --> End([App Integrated])

          classDef connector fill:#9c27b0,stroke:#7b1fa2,stroke-width:2px,color:#fff
          classDef config fill:#2196f3,stroke:#1976d2,stroke-width:2px,color:#fff
          classDef success fill:#d4edda,stroke:#28a745,stroke-width:2px

          class Install,Config,OAuth connector
          class Map,Sync,Test config
          class Start,End success

  - id: integration_chart_003
    semantic_tags:
      - integration
      - payment_gateway
      - ecommerce
      - stripe
      - paypal
    context_requirements:
      must_have: ["payment_provider"]
      optional: ["currency"]
    chart_complexity: medium
    integration_type: payment
    chart_template: |
      flowchart TB
          Start([Payment Setup]) --> Provider[Choose Payment Provider]
          Provider --> Account[Create Provider Account]
          Account --> API[Get API Credentials]
          API --> Config[Configure Odoo Payment Acquirer]
          Config --> Test[Test Mode Transactions]
          Test --> Webhook[Setup Webhooks]
          Webhook --> Live[Activate Live Mode]
          Live --> End([Payments Active])

          classDef payment fill:#4caf50,stroke:#388e3c,stroke-width:2px,color:#fff
          classDef config fill:#2196f3,stroke:#1976d2,stroke-width:2px,color:#fff
          classDef success fill:#d4edda,stroke:#28a745,stroke-width:2px

          class Provider,Account,API,Config payment
          class Test,Webhook,Live config
          class Start,End success

  - id: integration_chart_004
    semantic_tags:
      - integration
      - logistics
      - shipping
      - carrier
    context_requirements:
      must_have: ["carrier_name"]
      optional: ["tracking_enabled"]
    chart_complexity: medium
    integration_type: shipping
    chart_template: |
      flowchart LR
          Start([Shipping Carrier]) --> Account[Carrier Account Setup]
          Account --> Rates[Configure Rate Calculation]
          Rates --> Labels[Label Printing Setup]
          Labels --> Tracking[Enable Tracking Integration]
          Tracking --> Webhook[Delivery Status Webhooks]
          Webhook --> Test[Test Shipment Flow]
          Test --> End([Shipping Integrated])

          classDef shipping fill:#ff9800,stroke:#f57c00,stroke-width:2px,color:#fff
          classDef tracking fill:#2196f3,stroke:#1976d2,stroke-width:2px,color:#fff
          classDef success fill:#d4edda,stroke:#28a745,stroke-width:2px

          class Account,Rates,Labels shipping
          class Tracking,Webhook,Test tracking
          class Start,End success

  - id: integration_chart_005
    semantic_tags:
      - integration
      - erp_integration
      - legacy_system
      - data_sync
    context_requirements:
      must_have: ["source_system"]
      optional: ["sync_frequency"]
    chart_complexity: complex
    integration_type: erp
    chart_template: |
      flowchart TB
          Start([Legacy ERP]) --> Assess[Integration Assessment]
          Assess --> Middleware[Choose Middleware Platform]
          Middleware --> Extract[Data Extraction Logic]
          Extract --> Transform[Data Transformation Rules]
          Transform --> Load[Load to Odoo]
          Load --> Schedule[Sync Scheduling]
          Schedule --> Conflict[Conflict Resolution]
          Conflict --> Monitor[Monitor Data Quality]
          Monitor --> End([ERP Integrated])

          classDef integration fill:#9c27b0,stroke:#7b1fa2,stroke-width:2px,color:#fff
          classDef etl fill:#2196f3,stroke:#1976d2,stroke-width:2px,color:#fff
          classDef success fill:#d4edda,stroke:#28a745,stroke-width:2px

          class Assess,Middleware,Schedule integration
          class Extract,Transform,Load,Conflict,Monitor etl
          class Start,End success
