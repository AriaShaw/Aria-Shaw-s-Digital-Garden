# Odoo 17 - Version Specifications Module
# Last Updated: 2025-10-27
# Data Source: Official Odoo Documentation (odoo.com/documentation/17.0)
# Verification Status: ✅ VERIFIED

version_number: "17.0"
release_date: "2023-11-08"
lts_status: false  # Not an LTS release
support_end_date: "2024-10-31"  # Approximate (next major release)
python_requirement: "3.10+"
postgresql_requirement: "12.0+"

# System Requirements
system_requirements:
  python:
    min_version: "3.10"
    recommended_version: "3.11"
    notes: "Python 3.10+ is mandatory for Odoo 17. Previous versions are not compatible."

  postgresql:
    min_version: "12.0"
    recommended_version: "15.0"
    max_tested_version: "16.0"
    notes: "PostgreSQL 12.0 or above required. Version 15+ recommended for performance."

  operating_systems:
    - os: "Ubuntu"
      versions: ["22.04 LTS", "24.04 LTS"]
      recommended: true
      notes: "Official recommendation for production"

    - os: "Debian"
      versions: ["11 (Bullseye)", "12 (Bookworm)"]
      recommended: true

    - os: "CentOS / Rocky Linux / AlmaLinux"
      versions: ["8", "9"]
      recommended: false
      notes: "Supported but Ubuntu/Debian preferred"

    - os: "Red Hat Enterprise Linux"
      versions: ["8", "9"]
      recommended: false

    - os: "Windows Server"
      versions: ["2019", "2022"]
      recommended: false
      notes: "Supported for development only, not recommended for production"

  web_server:
    - name: "NGINX"
      recommended_version: "1.18+"
      role: "Reverse proxy"
      recommended: true

    - name: "Apache"
      recommended_version: "2.4+"
      role: "Reverse proxy"
      recommended: false
      notes: "NGINX preferred for better performance"

  node_js:
    required: false
    recommended_version: "16.x LTS or 18.x LTS"
    notes: "Optional, for development tools and asset compilation"

# Resource Requirements (Server Sizing)
resource_requirements:
  minimum:
    vcpu: 2
    ram_gb: 4
    storage_gb: 20
    suitable_for: "1-10 users, testing/development"
    notes: "Bare minimum, not recommended for production"

  small_business:
    vcpu: 2
    ram_gb: 8
    storage_gb: 50
    suitable_for: "10-30 users"
    postgresql_shared: true

  medium_business:
    vcpu: 4
    ram_gb: 16
    storage_gb: 100
    suitable_for: "30-100 users"
    postgresql_shared: false
    notes: "Separate database server recommended"

  large_business:
    vcpu: 8
    ram_gb: 32
    storage_gb: 200
    suitable_for: "100-500 users"
    architecture: "Multi-server with load balancing"

  enterprise:
    vcpu: 16
    ram_gb: 64
    storage_gb: 500
    suitable_for: "500+ users"
    architecture: "High availability cluster with horizontal scaling"

# Performance Metrics
performance:
  workers_formula: "(cpu_count * 2) + 1"
  recommended_workers_by_users:
    - users: "1-20"
      workers: 4
    - users: "20-50"
      workers: 6
    - users: "50-100"
      workers: 8
    - users: "100-200"
      workers: 12
    - users: "200+"
      workers: 16

  resource_consumption_vs_v14: "+25%"
  notes: "Odoo 17 requires approximately 25% more resources than Odoo 14 deployments"

# Major Features (New in v17)
new_features:
  - category: "Accounting"
    features:
      - "AI-powered invoice digitization"
      - "Improved bank reconciliation workflow"
      - "Enhanced multi-currency support"

  - category: "CRM"
    features:
      - "Unified inbox for emails and social media"
      - "AI lead scoring"
      - "Improved pipeline management"

  - category: "eCommerce"
    features:
      - "Enhanced checkout experience"
      - "Better product variant handling"
      - "Improved SEO tools"

  - category: "Manufacturing"
    features:
      - "Work center capacity planning"
      - "Quality control enhancements"
      - "Improved subcontracting workflows"

  - category: "UI/UX"
    features:
      - "Modernized interface design"
      - "Improved mobile responsiveness"
      - "Enhanced accessibility features"

  - category: "Technical"
    features:
      - "OWL framework improvements"
      - "Better API performance"
      - "Enhanced security features"

# Breaking Changes
breaking_changes:
  - change: "Python 3.10+ mandatory"
    impact: "Must upgrade Python version on older systems"
    migration_effort: "Medium"

  - change: "Removed deprecated XML-RPC endpoints"
    impact: "Third-party integrations may break"
    migration_effort: "High for affected integrations"

  - change: "Database schema changes for accounting"
    impact: "Requires data migration"
    migration_effort: "Low (handled automatically)"

  - change: "Modified view inheritance mechanism"
    impact: "Custom modules may need updates"
    migration_effort: "Medium"

# Dependencies (Python Packages)
python_dependencies:
  required:
    - package: "Babel"
      version: "2.9.1"
    - package: "chardet"
      version: "4.0.0"
    - package: "cryptography"
      version: "35.0.0"
    - package: "decorator"
      version: "4.4.2"
    - package: "docutils"
      version: "0.17"
    - package: "ebaysdk"
      version: "2.1.5"
    - package: "freezegun"
      version: "1.1.0"
    - package: "gevent"
      version: "21.8.0"
    - package: "greenlet"
      version: "1.1.2"
    - package: "idna"
      version: "2.10"
    - package: "Jinja2"
      version: "3.0.3"
    - package: "lxml"
      version: "4.8.0"
    - package: "MarkupSafe"
      version: "2.0.1"
    - package: "num2words"
      version: "0.5.10"
    - package: "ofxparse"
      version: "0.21"
    - package: "passlib"
      version: "1.7.4"
    - package: "Pillow"
      version: "9.4.0"
    - package: "polib"
      version: "1.1.1"
    - package: "psutil"
      version: "5.9.0"
    - package: "psycopg2"
      version: "2.9.3"
    - package: "pydot"
      version: "1.4.2"
    - package: "pyopenssl"
      version: "21.0.0"
    - package: "PyPDF2"
      version: "1.26.0"
    - package: "pyserial"
      version: "3.5"
    - package: "python-dateutil"
      version: "2.8.1"
    - package: "python-ldap"
      version: "3.4.0"
    - package: "python-stdnum"
      version: "1.17"
    - package: "pytz"
      version: "2022.1"
    - package: "pyusb"
      version: "1.2.1"
    - package: "qrcode"
      version: "7.3.1"
    - package: "reportlab"
      version: "3.6.12"
    - package: "requests"
      version: "2.27.1"
    - package: "urllib3"
      version: "1.26.5"
    - package: "vobject"
      version: "0.9.6.1"
    - package: "Werkzeug"
      version: "2.0.2"
    - package: "xlrd"
      version: "2.0.1"
    - package: "XlsxWriter"
      version: "3.0.2"
    - package: "xlwt"
      version: "1.3.0"
    - package: "zeep"
      version: "4.1.0"

  optional:
    - package: "wkhtmltopdf"
      version: "0.12.6"
      purpose: "PDF report generation"
      install_method: "System package (apt/yum)"

# Module Compatibility
module_compatibility:
  community_modules: "Requires updates for most custom modules from v16"
  odoo_apps_store: "Most apps compatible or have v17 versions available"
  migration_complexity: "Medium - expect 40-60% of custom code to need adjustments"

# Security Features
security:
  - feature: "Enhanced CSRF protection"
  - feature: "Improved password hashing (Argon2 support)"
  - feature: "Better session management"
  - feature: "Enhanced API authentication options"
  - feature: "Improved access rights granularity"

# Upgrade Path
upgrade_paths:
  from_v16:
    difficulty: "Medium"
    estimated_downtime: "2-6 hours"
    notes: "Most straightforward upgrade path"

  from_v15:
    difficulty: "Medium-High"
    estimated_downtime: "4-12 hours"
    notes: "Requires incremental upgrade (15→16→17)"

  from_v14_or_older:
    difficulty: "High"
    estimated_downtime: "8-24 hours"
    notes: "Requires multiple incremental upgrades. Consider professional migration service."

# Community vs Enterprise
editions:
  community:
    cost: "Free (LGPL license)"
    modules_included: "Core modules (CRM, Sales, Inventory, Accounting, etc.)"
    support: "Community forums only"
    recommended_for: "Small businesses, startups, non-critical deployments"

  enterprise:
    cost: "Per-user subscription (varies by module)"
    pricing_model: "Tiered by number of users and modules"
    modules_included: "All community modules + enterprise-exclusive features"
    exclusive_features:
      - "Advanced reporting and dashboards"
      - "Studio (custom app builder)"
      - "Marketing automation"
      - "Advanced MRP features"
      - "IoT integration"
      - "Official mobile apps"
    support: "Official Odoo support with SLA"
    recommended_for: "Medium-large businesses, mission-critical deployments"

# Installation Commands (Ubuntu 22.04 Example)
installation_reference:
  ubuntu_22_04:
    update_system: "sudo apt update && sudo apt upgrade -y"
    install_dependencies: "sudo apt install -y python3.10 python3-pip python3-dev libxml2-dev libxslt1-dev libevent-dev libsasl2-dev libldap2-dev pkg-config libtiff5-dev libjpeg8-dev libopenjp2-7-dev zlib1g-dev libfreetype6-dev liblcms2-dev libwebp-dev libharfbuzz-dev libfribidi-dev libxcb1-dev libpq-dev"
    install_postgresql: "sudo apt install -y postgresql"
    install_wkhtmltopdf: "sudo wget https://github.com/wkhtmltopdf/packaging/releases/download/0.12.6.1-2/wkhtmltox_0.12.6.1-2.jammy_amd64.deb && sudo dpkg -i wkhtmltox_0.12.6.1-2.jammy_amd64.deb"
    create_odoo_user: "sudo adduser --system --home=/opt/odoo --group odoo"
    clone_odoo: "sudo su - odoo -s /bin/bash && git clone https://www.github.com/odoo/odoo --depth 1 --branch 17.0 /opt/odoo/odoo17"
    install_python_deps: "pip3 install -r /opt/odoo/odoo17/requirements.txt"

# Configuration Best Practices
configuration_recommendations:
  odoo_conf:
    workers: "Calculated using formula: (cpu_count * 2) + 1"
    max_cron_threads: 2
    db_maxconn: 64
    limit_memory_hard: 2684354560  # 2.5 GB
    limit_memory_soft: 2147483648  # 2 GB
    limit_request: 8192
    limit_time_cpu: 60
    limit_time_real: 120
    log_level: "info"  # Use 'debug' for troubleshooting only
    proxy_mode: "True"  # When behind NGINX/Apache

  postgresql_conf:
    shared_buffers: "25% of total RAM"
    effective_cache_size: "50% of total RAM"
    maintenance_work_mem: "512MB - 1GB"
    work_mem: "32MB - 64MB"
    max_connections: 100
    checkpoint_completion_target: 0.9
    wal_buffers: "16MB"
    default_statistics_target: 100
    random_page_cost: 1.1  # For SSD
    effective_io_concurrency: 200  # For SSD

  nginx_conf:
    proxy_buffers: "16 64k"
    proxy_buffer_size: "128k"
    client_max_body_size: "256M"  # For large file uploads
    proxy_read_timeout: "720s"
    proxy_connect_timeout: "720s"
    proxy_send_timeout: "720s"

# Known Issues & Workarounds
known_issues:
  - issue: "High memory consumption with many concurrent users"
    workaround: "Increase workers and RAM allocation. Use Redis for session storage."

  - issue: "Slow query performance with large datasets"
    workaround: "Create database indexes, optimize PostgreSQL configuration, use read replicas."

  - issue: "File upload timeouts for large files"
    workaround: "Increase NGINX client_max_body_size and proxy timeouts."

# Last Verified
last_verified_date: "2025-10-27"
data_sources:
  - "Official Odoo 17 Documentation (odoo.com/documentation/17.0)"
  - "Odoo GitHub Repository (github.com/odoo/odoo branch 17.0)"
  - "Odoo System Requirements Documentation"
