# AWS Cloud Provider - Reusable Data Module
# Last Updated: 2025-10-27
# Sources: AWS EC2 Pricing, Odoo AWS Deployment Guide 2025

provider_name: "Amazon Web Services (AWS)"
provider_short_name: "AWS"
website: "https://aws.amazon.com"
documentation_url: "https://docs.aws.amazon.com/ec2/"

# Recommended Instance Types for Odoo
recommended_instances:
  # Startup / Development (1-10 users)
  - instance_type: "t3.micro"
    vcpus: 2
    ram_gb: 1
    architecture: "x86_64"
    storage_type: "EBS gp3"
    storage_gb: 30
    pricing:
      on_demand_hourly: 0.0104
      on_demand_monthly: 7.59
      reserved_1yr_monthly: 4.83
      reserved_3yr_monthly: 3.29
    bandwidth_gb: 2048
    network_performance: "Up to 5 Gigabit"
    recommended_for: "Development/Testing (1-5 users)"
    use_case: "development"

  - instance_type: "t3.small"
    vcpus: 2
    ram_gb: 2
    architecture: "x86_64"
    storage_type: "EBS gp3"
    storage_gb: 30
    pricing:
      on_demand_hourly: 0.0208
      on_demand_monthly: 15.18
      reserved_1yr_monthly: 9.65
      reserved_3yr_monthly: 6.57
    bandwidth_gb: 2048
    network_performance: "Up to 5 Gigabit"
    recommended_for: "Small Business (5-15 users)"
    use_case: "small_business"

  # Small to Medium Business (10-50 users)
  - instance_type: "t3.medium"
    vcpus: 2
    ram_gb: 4
    architecture: "x86_64"
    storage_type: "EBS gp3"
    storage_gb: 60
    pricing:
      on_demand_hourly: 0.0416
      on_demand_monthly: 30.37
      reserved_1yr_monthly: 19.31
      reserved_3yr_monthly: 13.14
    bandwidth_gb: 2048
    network_performance: "Up to 5 Gigabit"
    recommended_for: "Medium Business (15-30 users)"
    use_case: "medium_business"
    notes: "Most common choice for production Odoo deployments with 4 workers"

  - instance_type: "t3.large"
    vcpus: 2
    ram_gb: 8
    architecture: "x86_64"
    storage_type: "EBS gp3"
    storage_gb: 80
    pricing:
      on_demand_hourly: 0.0832
      on_demand_monthly: 60.74
      reserved_1yr_monthly: 38.62
      reserved_3yr_monthly: 26.28
    bandwidth_gb: 4096
    network_performance: "Up to 5 Gigabit"
    recommended_for: "Medium Business (30-60 users)"
    use_case: "medium_business"

  # Medium to Large (50-200 users)
  - instance_type: "m6i.large"
    vcpus: 2
    ram_gb: 8
    architecture: "x86_64"
    storage_type: "EBS gp3"
    storage_gb: 100
    pricing:
      on_demand_hourly: 0.096
      on_demand_monthly: 70.08
      reserved_1yr_monthly: 44.54
      reserved_3yr_monthly: 30.29
    bandwidth_gb: 6144
    network_performance: "Up to 12.5 Gigabit"
    recommended_for: "Growing Business (50-100 users)"
    use_case: "large_business"

  - instance_type: "m6i.xlarge"
    vcpus: 4
    ram_gb: 16
    architecture: "x86_64"
    storage_type: "EBS gp3"
    storage_gb: 150
    pricing:
      on_demand_hourly: 0.192
      on_demand_monthly: 140.16
      reserved_1yr_monthly: 89.09
      reserved_3yr_monthly: 60.59
    bandwidth_gb: 12288
    network_performance: "Up to 12.5 Gigabit"
    recommended_for: "Large Business (100-200 users)"
    use_case: "large_business"

  # Enterprise (200+ users)
  - instance_type: "m6i.2xlarge"
    vcpus: 8
    ram_gb: 32
    architecture: "x86_64"
    storage_type: "EBS gp3"
    storage_gb: 200
    pricing:
      on_demand_hourly: 0.384
      on_demand_monthly: 280.32
      reserved_1yr_monthly: 178.18
      reserved_3yr_monthly: 121.18
    bandwidth_gb: 24576
    network_performance: "Up to 12.5 Gigabit"
    recommended_for: "Enterprise (200-500 users)"
    use_case: "enterprise"

  # Graviton (ARM-based, better price/performance)
  - instance_type: "t4g.medium"
    vcpus: 2
    ram_gb: 4
    architecture: "ARM64"
    processor: "AWS Graviton2"
    storage_type: "EBS gp3"
    storage_gb: 60
    pricing:
      on_demand_hourly: 0.0336
      on_demand_monthly: 24.53
      reserved_1yr_monthly: 15.59
      reserved_3yr_monthly: 10.61
    bandwidth_gb: 2048
    network_performance: "Up to 5 Gigabit"
    recommended_for: "Cost-optimized Medium Business (15-30 users)"
    use_case: "medium_business"
    notes: "Up to 40% better price/performance than x86 equivalents. Requires ARM-compatible Odoo setup"

# Managed Database Options (RDS PostgreSQL)
rds_postgresql:
  - instance_class: "db.t3.micro"
    vcpus: 2
    ram_gb: 1
    storage_type: "gp3"
    storage_gb: 20
    pricing:
      on_demand_monthly: 12.68
      reserved_1yr_monthly: 7.76
    recommended_for: "Development/Testing"

  - instance_class: "db.t3.small"
    vcpus: 2
    ram_gb: 2
    storage_type: "gp3"
    storage_gb: 50
    pricing:
      on_demand_monthly: 28.47
      reserved_1yr_monthly: 17.43
    recommended_for: "Small Business (5-20 users)"

  - instance_class: "db.t3.medium"
    vcpus: 2
    ram_gb: 4
    storage_type: "gp3"
    storage_gb: 100
    pricing:
      on_demand_monthly: 61.32
      reserved_1yr_monthly: 37.56
    recommended_for: "Medium Business (20-60 users)"

  - instance_class: "db.m6i.large"
    vcpus: 2
    ram_gb: 8
    storage_type: "gp3"
    storage_gb: 200
    pricing:
      on_demand_monthly: 134.28
      reserved_1yr_monthly: 82.24
    recommended_for: "Large Business (60-200 users)"
    notes: "General Purpose instance with consistent performance"

# Storage Options
storage_options:
  - storage_type: "EBS gp3"
    description: "General Purpose SSD"
    iops_baseline: 3000
    throughput_mbps: 125
    pricing_per_gb_month: 0.08
    recommended_for: "Most Odoo deployments"

  - storage_type: "EBS gp2"
    description: "General Purpose SSD (Previous generation)"
    iops_baseline: "3 IOPS per GB (min 100, max 16000)"
    throughput_mbps: "Up to 250"
    pricing_per_gb_month: 0.10
    recommended_for: "Legacy deployments"

  - storage_type: "EBS io2"
    description: "Provisioned IOPS SSD"
    iops_baseline: "Up to 64000"
    throughput_mbps: "Up to 1000"
    pricing_per_gb_month: 0.125
    pricing_per_iops_month: 0.065
    recommended_for: "High-performance database workloads"

  - storage_type: "S3 Standard"
    description: "Object storage for filestore"
    pricing_per_gb_month: 0.023
    pricing_put_1000_requests: 0.005
    pricing_get_1000_requests: 0.0004
    recommended_for: "Odoo filestore (attachments, documents)"

# Networking
networking:
  data_transfer_in: "Free"
  data_transfer_out_internet:
    first_10tb_per_gb: 0.09
    next_40tb_per_gb: 0.085
    next_100tb_per_gb: 0.07
    over_150tb_per_gb: 0.05
  data_transfer_out_to_cloudfront_per_gb: 0.00
  elastic_ip_monthly: 3.60

# Deployment Services
deployment_services:
  - service: "EC2"
    description: "Virtual servers"
    best_for: "Full control, custom configurations"
    complexity: "High"

  - service: "Lightsail"
    description: "Simplified VPS"
    best_for: "Simple deployments, predictable pricing"
    complexity: "Low"
    starting_price_monthly: 5.00

  - service: "ECS + Fargate"
    description: "Container orchestration (serverless)"
    best_for: "Docker-based deployments, auto-scaling"
    complexity: "Medium"

  - service: "Elastic Beanstalk"
    description: "Platform as a Service"
    best_for: "Quick deployment, managed platform"
    complexity: "Low-Medium"

  - service: "EKS"
    description: "Managed Kubernetes"
    best_for: "Enterprise, microservices architecture"
    complexity: "High"

# Cost Optimization Tips
cost_optimization:
  - strategy: "Reserved Instances (1-year)"
    savings_percent: "Up to 40%"
    commitment: "1 year upfront/partial/no-upfront payment"

  - strategy: "Reserved Instances (3-year)"
    savings_percent: "Up to 60%"
    commitment: "3 years upfront/partial/no-upfront payment"

  - strategy: "Savings Plans"
    savings_percent: "Up to 72%"
    commitment: "1 or 3 years, flexible instance types"

  - strategy: "Spot Instances"
    savings_percent: "Up to 90%"
    commitment: "None, but instances can be reclaimed"
    suitability: "Non-production, batch processing, testing only"

  - strategy: "Graviton instances"
    savings_percent: "Up to 40%"
    commitment: "None, pay-as-you-go"
    notes: "Requires ARM64 compatibility"

# Architecture Recommendations
architecture_patterns:
  - pattern: "Single-Server (All-in-One)"
    instances:
      - role: "Odoo + PostgreSQL"
        recommended_instance: "t3.medium"
    estimated_monthly_cost_on_demand: 30.37
    estimated_monthly_cost_reserved_1yr: 19.31
    suitable_for: "1-30 users, startups, small businesses"

  - pattern: "Separated (App + Database)"
    instances:
      - role: "Odoo Application"
        recommended_instance: "t3.medium"
      - role: "RDS PostgreSQL"
        recommended_instance: "db.t3.medium"
    estimated_monthly_cost_on_demand: 91.69
    estimated_monthly_cost_reserved_1yr: 56.87
    suitable_for: "20-100 users, production deployments"

  - pattern: "High Availability"
    instances:
      - role: "Odoo App Server 1"
        recommended_instance: "t3.medium"
      - role: "Odoo App Server 2"
        recommended_instance: "t3.medium"
      - role: "Load Balancer"
        service: "Application Load Balancer"
        monthly_cost: 16.20
      - role: "RDS PostgreSQL (Multi-AZ)"
        recommended_instance: "db.m6i.large"
    estimated_monthly_cost_on_demand: 227.04
    estimated_monthly_cost_reserved_1yr: 157.86
    suitable_for: "100-500 users, mission-critical deployments"

# Geographic Regions (pricing varies by region, US East N. Virginia pricing shown)
regions:
  - region_code: "us-east-1"
    region_name: "US East (N. Virginia)"
    pricing_tier: "Lowest"

  - region_code: "us-west-2"
    region_name: "US West (Oregon)"
    pricing_tier: "Low"

  - region_code: "eu-west-1"
    region_name: "Europe (Ireland)"
    pricing_tier: "Medium"
    pricing_difference_percent: "+5%"

  - region_code: "ap-southeast-1"
    region_name: "Asia Pacific (Singapore)"
    pricing_tier: "Medium-High"
    pricing_difference_percent: "+10%"

# Security Best Practices
security_features:
  - feature: "Security Groups"
    description: "Virtual firewall for instances"
    cost: "Free"

  - feature: "VPC"
    description: "Isolated virtual network"
    cost: "Free (NAT Gateway ~$32/mo)"

  - feature: "AWS Certificate Manager"
    description: "Free SSL/TLS certificates"
    cost: "Free"

  - feature: "CloudWatch"
    description: "Monitoring and logging"
    cost: "Free tier + $0.30/metric/month"

  - feature: "AWS Secrets Manager"
    description: "Secure credential storage"
    cost: "$0.40/secret/month + API calls"

# Support Plans
support_plans:
  - plan: "Basic"
    monthly_cost: 0
    includes: "Forum support, documentation, whitepapers"

  - plan: "Developer"
    monthly_cost: 29
    includes: "Business hours email support, <24hr response"

  - plan: "Business"
    monthly_cost_or_percent: "Greater of $100 or 10% of monthly AWS usage"
    includes: "24/7 phone/email/chat, <1hr response for production issues"

# Common Pitfalls
common_pitfalls:
  - issue: "Data transfer costs unexpectedly high"
    solution: "Use CloudFront CDN for static assets, enable S3 Transfer Acceleration"

  - issue: "EBS costs accumulating from snapshots"
    solution: "Implement snapshot lifecycle policy, delete old snapshots"

  - issue: "Unused Elastic IPs charges"
    solution: "Release unused Elastic IPs ($3.60/month each)"

  - issue: "Running instances in expensive regions"
    solution: "Deploy in us-east-1 or us-west-2 for lowest pricing"

# Last Verified
last_verified_date: "2025-10-27"
data_sources:
  - "AWS EC2 Pricing Calculator"
  - "AWS RDS Pricing Page"
  - "Odoo AWS Deployment Guide 2025"
  - "nOps EC2 Pricing Guide 2025"
