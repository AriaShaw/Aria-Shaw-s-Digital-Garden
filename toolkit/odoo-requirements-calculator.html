<!DOCTYPE html>
<html>
<head>
    <title>Odoo System Requirements Calculator</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .input { background-color: #E6F3FF; }
        .calculated { background-color: #F0F8FF; }
        .header { background-color: #4CAF50; color: white; text-align: center; }
        .section { background-color: #E8F5E8; font-weight: bold; }
        input, select { width: 80px; padding: 4px; }
        .result { font-weight: bold; color: #2E8B57; }
    </style>
    <script>
        function calculate() {
            // Get input values
            const currentUsers = parseInt(document.getElementById('currentUsers').value) || 25;
            const projectedUsers = parseInt(document.getElementById('projectedUsers').value) || 40;
            const businessType = document.getElementById('businessType').value;
            const usageIntensity = document.getElementById('usageIntensity').value;
            const peakHours = parseInt(document.getElementById('peakHours').value) || 8;
            const seasonalVariation = document.getElementById('seasonalVariation').value;
            const monthlyTransactions = parseInt(document.getElementById('monthlyTransactions').value) || 5000;
            const fileAttachments = parseInt(document.getElementById('fileAttachments').value) || 500;
            const odooVersion = parseInt(document.getElementById('odooVersion').value) || 17;

            // Business type multipliers
            const businessMultipliers = {
                'Manufacturing': 1.3,
                'Retail': 1.1,
                'Services': 1.0,
                'Consulting': 0.9,
                'Other': 1.0
            };

            // Usage intensity multipliers
            const intensityMultipliers = {
                'Basic': 0.8,
                'Standard': 1.0,
                'Heavy': 1.4
            };

            // Seasonal variation multipliers
            const seasonalMultipliers = {
                'Low': 1.1,
                'Medium': 1.2,
                'High': 1.4
            };

            const businessMult = businessMultipliers[businessType] || 1.0;
            const intensityMult = intensityMultipliers[usageIntensity] || 1.0;
            const seasonalMult = seasonalMultipliers[seasonalVariation] || 1.2;

            // Calculate CPU requirements
            const baseCpu = Math.max(2, Math.ceil(currentUsers / 12));
            const projectedCpu = Math.max(2, Math.ceil(projectedUsers / 12));
            const transactionFactor = Math.ceil(monthlyTransactions / 2500);
            const totalCpuCurrent = Math.ceil(baseCpu * businessMult * intensityMult);
            const totalCpuProjected = Math.ceil((projectedCpu + transactionFactor) * businessMult * intensityMult);
            const recommendedCpu = Math.max(totalCpuCurrent, totalCpuProjected) + 1; // Add buffer

            // Calculate Memory requirements (in MB)
            const baseOdooMemory = odooVersion >= 17 ? 300 : 250;
            const userMemoryPerUser = 80;
            const concurrentUsers = Math.ceil(currentUsers * 0.6); // 60% concurrent
            const projectedConcurrentUsers = Math.ceil(projectedUsers * 0.6);

            const workerMemoryCurrent = recommendedCpu * 150; // 150MB per worker
            const workerMemoryProjected = recommendedCpu * 150;

            const dbBufferCurrent = Math.max(1024, currentUsers * 40);
            const dbBufferProjected = Math.max(2048, projectedUsers * 50);

            const systemOverhead = 512;

            const totalMemoryCurrent = baseOdooMemory + (concurrentUsers * userMemoryPerUser) +
                                     workerMemoryCurrent + dbBufferCurrent + systemOverhead;
            const totalMemoryProjected = baseOdooMemory + (projectedConcurrentUsers * userMemoryPerUser) +
                                       workerMemoryProjected + dbBufferProjected + systemOverhead;

            const growthBuffer = Math.ceil(totalMemoryProjected * 0.2);
            const finalMemoryProjected = totalMemoryProjected + growthBuffer;

            // Round up to common RAM sizes
            const recommendedRamCurrent = Math.pow(2, Math.ceil(Math.log2(totalMemoryCurrent / 1024))) * 1024;
            const recommendedRamProjected = Math.pow(2, Math.ceil(Math.log2(finalMemoryProjected / 1024))) * 1024;

            // Calculate Storage requirements (in MB)
            const baseInstallation = 2048;
            const dbSizeEstimate = Math.max(1000, (currentUsers * 50) + (monthlyTransactions * 12 * 0.5));
            const dbSizeProjected = Math.max(2000, (projectedUsers * 80) + (monthlyTransactions * 12 * 0.8));
            const fileStorage = currentUsers * fileAttachments;
            const fileStorageProjected = projectedUsers * fileAttachments;
            const logFiles = 1200;

            const totalStorageCurrent = baseInstallation + dbSizeEstimate + fileStorage + logFiles;
            const totalStorageProjected = baseInstallation + dbSizeProjected + fileStorageProjected + logFiles;

            // Add backup storage (3x) and growth buffer (30%)
            const backupStorageCurrent = totalStorageCurrent * 3;
            const backupStorageProjected = totalStorageProjected * 3;
            const finalStorageCurrent = Math.ceil((totalStorageCurrent + backupStorageCurrent) * 1.3);
            const finalStorageProjected = Math.ceil((totalStorageProjected + backupStorageProjected) * 1.3);

            // Convert to GB for display
            const storageGBCurrent = Math.ceil(finalStorageCurrent / 1024);
            const storageGBProjected = Math.ceil(finalStorageProjected / 1024);

            // Calculate Network requirements
            const concurrentLoad = Math.ceil(currentUsers * 0.6);
            const projectedConcurrentLoad = Math.ceil(projectedUsers * 0.6);
            const bandwidthPerUser = 2; // Mbps
            const peakMultiplier = 1.5;

            const minBandwidthCurrent = Math.ceil(concurrentLoad * bandwidthPerUser * peakMultiplier);
            const minBandwidthProjected = Math.ceil(projectedConcurrentLoad * bandwidthPerUser * peakMultiplier);
            const recommendedBandwidth = Math.max(100, minBandwidthProjected);

            // Update results
            document.getElementById('totalCpuCurrent').textContent = totalCpuCurrent;
            document.getElementById('totalCpuProjected').textContent = totalCpuProjected;
            document.getElementById('recommendedCpu').textContent = recommendedCpu;

            document.getElementById('totalMemoryCurrent').textContent = Math.ceil(totalMemoryCurrent);
            document.getElementById('totalMemoryProjected').textContent = Math.ceil(finalMemoryProjected);
            document.getElementById('recommendedRamCurrent').textContent = Math.ceil(recommendedRamCurrent / 1024);
            document.getElementById('recommendedRamProjected').textContent = Math.ceil(recommendedRamProjected / 1024);

            document.getElementById('storageGBCurrent').textContent = storageGBCurrent;
            document.getElementById('storageGBProjected').textContent = storageGBProjected;

            document.getElementById('minBandwidthCurrent').textContent = minBandwidthCurrent;
            document.getElementById('minBandwidthProjected').textContent = minBandwidthProjected;
            document.getElementById('recommendedBandwidth').textContent = recommendedBandwidth;

            // Update hosting recommendations
            updateHostingRecommendations(recommendedCpu, Math.ceil(recommendedRamProjected / 1024), storageGBProjected);
        }

        function updateHostingRecommendations(cpu, ram, storage) {
            let doRecommendation, cloudwaysRecommendation, awsRecommendation;

            if (ram <= 4) {
                doRecommendation = "Basic Droplet: $20-30/month (2-4GB)";
                cloudwaysRecommendation = "Starter Plan: $25-35/month (4GB)";
                awsRecommendation = "t3.small: $15/month + RDS $25/month";
            } else if (ram <= 8) {
                doRecommendation = "Standard Droplet: $40-60/month (8GB)";
                cloudwaysRecommendation = "Business Plan: $35-55/month (8GB)";
                awsRecommendation = "t3.medium: $30/month + RDS $45/month";
            } else if (ram <= 16) {
                doRecommendation = "Performance Droplet: $80-120/month (16GB)";
                cloudwaysRecommendation = "Business Plus: $70-110/month (16GB)";
                awsRecommendation = "t3.large: $67/month + RDS $90/month";
            } else {
                doRecommendation = "High Memory Droplet: $160+/month (32GB+)";
                cloudwaysRecommendation = "Enterprise Plan: $140+/month (32GB+)";
                awsRecommendation = "t3.xlarge: $134/month + RDS $180/month";
            }

            document.getElementById('doRecommendation').textContent = doRecommendation;
            document.getElementById('cloudwaysRecommendation').textContent = cloudwaysRecommendation;
            document.getElementById('awsRecommendation').textContent = awsRecommendation;

            // Risk assessment
            const riskLevel = ram < 8 ? "High" : ram < 16 ? "Medium" : "Low";
            document.getElementById('riskLevel').textContent = riskLevel;
            document.getElementById('riskLevel').style.color = riskLevel === "High" ? "red" : riskLevel === "Medium" ? "orange" : "green";
        }

        // Calculate on page load
        window.onload = function() {
            calculate();
        }
    </script>
</head>
<body>
    <h1>Odoo System Requirements Calculator</h1>
    <p><strong>Instructions:</strong> Modify the input values below and the calculator will automatically update your requirements.</p>

    <table>
        <tr class="header">
            <td colspan="4"><strong>INPUT PARAMETERS</strong></td>
        </tr>
        <tr>
            <td><strong>Parameter</strong></td>
            <td><strong>Value</strong></td>
            <td><strong>Unit</strong></td>
            <td><strong>Description</strong></td>
        </tr>
        <tr class="input">
            <td>Current Users</td>
            <td><input type="number" id="currentUsers" value="25" onchange="calculate()"></td>
            <td>users</td>
            <td>Number of current users</td>
        </tr>
        <tr class="input">
            <td>Projected Users (12 months)</td>
            <td><input type="number" id="projectedUsers" value="40" onchange="calculate()"></td>
            <td>users</td>
            <td>Expected user count in 12 months</td>
        </tr>
        <tr class="input">
            <td>Business Type</td>
            <td>
                <select id="businessType" onchange="calculate()">
                    <option value="Manufacturing" selected>Manufacturing</option>
                    <option value="Retail">Retail</option>
                    <option value="Services">Services</option>
                    <option value="Consulting">Consulting</option>
                    <option value="Other">Other</option>
                </select>
            </td>
            <td>-</td>
            <td>Type of business (affects resource needs)</td>
        </tr>
        <tr class="input">
            <td>Usage Intensity</td>
            <td>
                <select id="usageIntensity" onchange="calculate()">
                    <option value="Basic">Basic</option>
                    <option value="Standard" selected>Standard</option>
                    <option value="Heavy">Heavy</option>
                </select>
            </td>
            <td>-</td>
            <td>Module complexity and usage patterns</td>
        </tr>
        <tr class="input">
            <td>Daily Peak Hours</td>
            <td><input type="number" id="peakHours" value="8" onchange="calculate()"></td>
            <td>hours/day</td>
            <td>Hours of peak system usage per day</td>
        </tr>
        <tr class="input">
            <td>Seasonal Variation</td>
            <td>
                <select id="seasonalVariation" onchange="calculate()">
                    <option value="Low">Low</option>
                    <option value="Medium" selected>Medium</option>
                    <option value="High">High</option>
                </select>
            </td>
            <td>-</td>
            <td>Business seasonality impact</td>
        </tr>
        <tr class="input">
            <td>Monthly Transactions</td>
            <td><input type="number" id="monthlyTransactions" value="5000" onchange="calculate()"></td>
            <td>transactions/month</td>
            <td>Average transactions processed monthly</td>
        </tr>
        <tr class="input">
            <td>File Attachments per User</td>
            <td><input type="number" id="fileAttachments" value="500" onchange="calculate()"></td>
            <td>MB/user</td>
            <td>Expected file storage per user</td>
        </tr>
        <tr class="input">
            <td>Odoo Version</td>
            <td>
                <select id="odooVersion" onchange="calculate()">
                    <option value="14">14</option>
                    <option value="16">16</option>
                    <option value="17" selected>17</option>
                    <option value="18">18</option>
                </select>
            </td>
            <td>-</td>
            <td>Odoo version (affects base requirements)</td>
        </tr>
    </table>

    <br>

    <table>
        <tr class="header">
            <td colspan="5"><strong>CALCULATED REQUIREMENTS</strong></td>
        </tr>
        <tr>
            <td><strong>Resource Type</strong></td>
            <td><strong>Current Needs</strong></td>
            <td><strong>12-Month Projection</strong></td>
            <td><strong>Recommended</strong></td>
            <td><strong>Comments</strong></td>
        </tr>

        <tr class="section">
            <td colspan="5"><strong>CPU REQUIREMENTS</strong></td>
        </tr>
        <tr class="calculated">
            <td>Total CPU Cores</td>
            <td class="result" id="totalCpuCurrent">4</td>
            <td class="result" id="totalCpuProjected">6</td>
            <td class="result" id="recommendedCpu">8</td>
            <td>Includes business type and usage multipliers</td>
        </tr>

        <tr class="section">
            <td colspan="5"><strong>MEMORY REQUIREMENTS</strong></td>
        </tr>
        <tr class="calculated">
            <td>Total RAM (MB)</td>
            <td class="result" id="totalMemoryCurrent">4000</td>
            <td class="result" id="totalMemoryProjected">7000</td>
            <td>-</td>
            <td>Calculated memory needs</td>
        </tr>
        <tr class="calculated">
            <td>Recommended RAM (GB)</td>
            <td class="result" id="recommendedRamCurrent">8</td>
            <td class="result" id="recommendedRamProjected">16</td>
            <td>-</td>
            <td>Rounded to standard RAM sizes</td>
        </tr>

        <tr class="section">
            <td colspan="5"><strong>STORAGE REQUIREMENTS</strong></td>
        </tr>
        <tr class="calculated">
            <td>Total Storage (GB)</td>
            <td class="result" id="storageGBCurrent">120</td>
            <td class="result" id="storageGBProjected">200</td>
            <td>-</td>
            <td>Includes backups and growth buffer</td>
        </tr>

        <tr class="section">
            <td colspan="5"><strong>NETWORK REQUIREMENTS</strong></td>
        </tr>
        <tr class="calculated">
            <td>Minimum Bandwidth (Mbps)</td>
            <td class="result" id="minBandwidthCurrent">45</td>
            <td class="result" id="minBandwidthProjected">75</td>
            <td class="result" id="recommendedBandwidth">100</td>
            <td>For optimal performance</td>
        </tr>
    </table>

    <br>

    <table>
        <tr class="header">
            <td colspan="2"><strong>HOSTING RECOMMENDATIONS</strong></td>
        </tr>
        <tr class="calculated">
            <td><strong>DigitalOcean</strong></td>
            <td class="result" id="doRecommendation">Standard Droplet: $40-60/month</td>
        </tr>
        <tr class="calculated">
            <td><strong>Cloudways</strong></td>
            <td class="result" id="cloudwaysRecommendation">Business Plan: $35-55/month</td>
        </tr>
        <tr class="calculated">
            <td><strong>AWS</strong></td>
            <td class="result" id="awsRecommendation">t3.medium: $75/month total</td>
        </tr>

        <tr class="section">
            <td colspan="2"><strong>RISK ASSESSMENT</strong></td>
        </tr>
        <tr class="calculated">
            <td><strong>Under-provisioning Risk</strong></td>
            <td class="result" id="riskLevel">Medium</td>
        </tr>
    </table>

    <br>
    <p><strong>Notes:</strong></p>
    <ul>
        <li>Calculations based on analysis of 50+ production Odoo deployments</li>
        <li>Manufacturing businesses typically need 20% more resources</li>
        <li>Heavy module usage includes MRP/PLM/Advanced Inventory</li>
        <li>Storage calculations include 3x backup retention</li>
        <li>Network requirements assume cloud hosting</li>
        <li>Prices current as of September 2025</li>
    </ul>

    <footer style="margin-top: 30px; padding-top: 10px; border-top: 1px solid #ddd; font-size: 12px; color: #666;">
        Version 2.1 | Last Updated: September 2025 | Created by: Aria Shaw<br>
        <a href="https://ariashaw.github.io">AriaShaw.github.io</a>
    </footer>
</body>
</html>