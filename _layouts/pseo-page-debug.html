<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>DEBUG: PSEO Page</title>
</head>
<body>
    <h1>PSEO Page Debug Output</h1>

    <h2>Page Variables:</h2>
    <ul>
        <li><strong>page.data_key:</strong> {{ page.data_key }}</li>
        <li><strong>page.slug:</strong> {{ page.slug }}</li>
        <li><strong>page.url:</strong> {{ page.url }}</li>
        <li><strong>page.path:</strong> {{ page.path }}</li>
    </ul>

    <h2>Attempting to Load Data:</h2>
    {% assign data_key = page.data_key %}
    <p>Looking for: site.data.pages['{{ data_key }}']</p>

    {% assign page_data = site.data.pages[data_key] %}

    {% if page_data %}
        <p style="color: green;">âœ“ Data loaded successfully!</p>
        <ul>
            <li><strong>Title:</strong> {{ page_data.metadata.title }}</li>
            <li><strong>Intent Type:</strong> {{ page_data.metadata.intent_type }}</li>
            <li><strong>Page Slug:</strong> {{ page_data.metadata.page_slug }}</li>
        </ul>
    {% else %}
        <p style="color: red;">âœ— Failed to load data</p>
        <p>Available pages in site.data.pages:</p>
        <ul>
        {% for item in site.data.pages %}
            <li>{{ item[0] }}</li>
        {% endfor %}
        </ul>
    {% endif %}

    <h2>All site.data keys:</h2>
    <ul>
    {% for data in site.data %}
        <li>{{ data[0] }}</li>
    {% endfor %}
    </ul>
</body>
</html>
