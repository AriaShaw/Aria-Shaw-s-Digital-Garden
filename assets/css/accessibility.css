/* Accessibility Improvements for PageSpeed */

/* 1. Links must be distinguishable without color - add underlines */
a {
  text-decoration: underline;
  text-decoration-skip-ink: auto;
}

/* Keep buttons without underlines */
button,
.btn,
.button,
[role="button"] {
  text-decoration: none !important;
}

/* Navigation links - add underline on hover at minimum */
nav a,
.site-title a,
header a {
  text-decoration: none;
}

nav a:hover,
nav a:focus,
.site-title a:hover,
header a:focus {
  text-decoration: underline;
}

/* ========================================
   Home Page Exceptions
   ======================================== */

/* Home page heading links - no underline by default */
.home-page h1 a,
.home-page h2 a,
.home-page h3 a,
.home-page .home-site-title a,
.home-page .home-nav-links a {
  text-decoration: none !important;
}

/* Home page heading links - underline on hover */
.home-page h1 a:hover,
.home-page h2 a:hover,
.home-page h3 a:hover,
.home-page .home-site-title a:hover,
.home-page .home-nav-links a:hover,
.home-page .home-nav-links a:focus {
  text-decoration: underline !important;
}

/* Home page footer links */
.home-page .home-footer a {
  text-decoration: none !important;
}

.home-page .home-footer a:hover {
  text-decoration: underline !important;
}

/* 2. Improve color contrast for code blocks */
/* Override syntax highlighting colors with better contrast */
.highlight .c,    /* Comments - was low contrast yellow */
.highlight .cm,
.highlight .c1 {
  color: #6a737d !important;  /* Gray with better contrast */
  background-color: transparent !important;
}

.highlight pre,
.highlight code {
  background-color: #f6f8fa !important;  /* Light background */
  color: #24292e !important;  /* Dark text */
}

/* Yellow highlights in code - improve contrast */
span.c {
  background-color: #fff3cd !important;  /* Lighter yellow background */
  color: #856404 !important;  /* Dark brown text for contrast */
  padding: 2px 4px;
  border-radius: 3px;
}

/* 3. Minimum touch target sizes - 48x48px */
/* Ensure all interactive elements meet WCAG 2.1 AAA */
a,
button,
input[type="submit"],
input[type="button"],
input[type="checkbox"],
input[type="radio"],
select,
.clickable {
  min-height: 48px;
  min-width: 48px;
  padding: 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Exception for inline text links - add padding but keep inline */
p a,
li a,
td a {
  min-height: auto;
  min-width: auto;
  padding: 8px 4px;
  line-height: 2;
  display: inline;
}

/* Code copy buttons */
.copy-button,
button[data-clipboard-target] {
  min-height: 48px;
  min-width: 48px;
  padding: 12px;
  cursor: pointer;
}

/* Calculator buttons and CTA links - use inline-block for better text alignment */
.calculate-btn,
.cta-primary,
.cta-secondary,
.cta-button {
  min-height: 48px;
  padding: 14px 28px;
  display: inline-block !important;
  line-height: 1.2;
  vertical-align: middle;
}

/* Product box CTA buttons - override flex layout to prevent text misalignment */
.product-box-cta {
  display: inline-block !important;
  /* Reset flex properties that cause vertical misalignment */
  align-items: initial !important;
  justify-content: initial !important;
  /* Ensure proper text centering */
  line-height: 1.5 !important;
  text-align: center !important;
  /* Override the general 'a' padding rule */
  padding: 0.75rem 1.5rem !important;
  /* Ensure minimum touch target */
  min-height: 48px !important;
  min-width: auto !important;
}

/* Floating TOC toggle */
.toc-toggle {
  min-height: 48px;
  min-width: 48px;
  padding: 12px;
}

/* 4. Form labels for accessibility */
/* Ensure all inputs have visible or aria labels */
input[type="checkbox"]:not([aria-label]):not([aria-labelledby]) {
  /* Add visual focus indicator for unlabeled checkboxes */
  outline: 2px solid transparent;
  outline-offset: 2px;
}

input[type="checkbox"]:focus {
  outline-color: #0969da;
}

/* Task list checkboxes - these are decorative, hide from screen readers */
.task-list-item-checkbox[disabled] {
  aria-hidden: true;
}

/* 5. Focus indicators for keyboard navigation */
a:focus,
button:focus,
input:focus,
select:focus,
textarea:focus {
  outline: 2px solid #0969da;
  outline-offset: 2px;
}

/* 6. Improve heading contrast */
h1, h2, h3, h4, h5, h6 {
  color: #24292e;  /* Ensure sufficient contrast */
}

/* 7. Mobile font size minimum 16px to prevent zoom */
@media (max-width: 768px) {
  body {
    font-size: 16px;
  }

  p, li, td, th {
    font-size: 16px;
  }

  small {
    font-size: 14px;  /* Minimum for small text */
  }
}
